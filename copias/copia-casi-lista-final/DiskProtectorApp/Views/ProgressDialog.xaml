<controls:MetroWindow x:Class="DiskProtectorApp.Views.ProgressDialog"
                      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                      xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
                      xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
                      Title="Procesando..." 
                      Height="320" 
                      Width="500"
                      WindowStartupLocation="CenterOwner"
                      ResizeMode="NoResize"
                      ShowInTaskbar="False"
                      Topmost="True"
                      GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
                      BorderThickness="1"
                      BorderBrush="{DynamicResource MahApps.Brushes.Accent}"
                      Background="{DynamicResource MahApps.Brushes.ThemeBackground}"
                      Foreground="{DynamicResource MahApps.Brushes.Text}">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock x:Name="OperationText" 
                   Text="Procesando discos..." 
                   FontSize="16" 
                   FontWeight="SemiBold"
                   Margin="0,0,0,10"
                   Grid.Row="0"/>
        
        <TextBlock x:Name="ProgressText" 
                   Text="Iniciando..." 
                   FontSize="12" 
                   Foreground="{DynamicResource MahApps.Brushes.Gray3}"
                   Margin="0,0,0,10"
                   Grid.Row="1"/>
        
        <ProgressBar x:Name="ProgressBar" 
                     IsIndeterminate="True" 
                     Height="10" 
                     Margin="0,0,0,10"
                     Grid.Row="2"/>
        
        <Border Grid.Row="3" 
                BorderBrush="{DynamicResource MahApps.Brushes.Gray5}" 
                BorderThickness="1" 
                Margin="0,0,0,10">
            <ScrollViewer VerticalScrollBarVisibility="Auto" 
                          Height="80">
                <TextBlock x:Name="DetailsText" 
                           TextWrapping="Wrap" 
                           FontFamily="Consolas"
                           FontSize="11"
                           Padding="5"/>
            </ScrollViewer>
        </Border>
        
        <!-- Mensaje informativo con icono -->
        <Border Grid.Row="4" 
                Background="{DynamicResource MahApps.Brushes.Accent4}"
                BorderBrush="{DynamicResource MahApps.Brushes.Accent}"
                BorderThickness="1"
                CornerRadius="3"
                Padding="10"
                Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal">
                <iconPacks:PackIconMaterial Kind="Information" 
                                          Width="20" 
                                          Height="20" 
                                          Foreground="{DynamicResource MahApps.Brushes.Accent}"
                                          VerticalAlignment="Center"
                                          Margin="0,0,10,0"/>
                <TextBlock Text="Este proceso puede tardar varios minutos dependiendo del tamaÃ±o del disco y la cantidad de archivos." 
                           TextWrapping="Wrap"
                           VerticalAlignment="Center"
                           Foreground="{DynamicResource MahApps.Brushes.Text}"/>
            </StackPanel>
        </Border>
        
        <StackPanel Grid.Row="5" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right">
            <controls:ProgressRing IsActive="True" 
                                 Width="20" 
                                 Height="20" 
                                 Margin="0,0,10,0"
                                 Foreground="{DynamicResource MahApps.Brushes.Accent}"/>
            <Button x:Name="CancelButton" 
                    Content="Cancelar" 
                    Width="80" 
                    Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</controls:MetroWindow>
